/*
 * KiUI v0.0.1 (https://github.com/redaemn/KiUI)
 * 2013-06-19
 * Author: https://github.com/redaemn/KiUI/graphs/contributors
 */

(function(i,t,n){var o=i.kiui=i.kiui||{},e="Kiui",s=n.ui,c=t.extend,a=function(i){s.plugin(i,o,e)};c(i.kiui,{prefix:e,plugin:a,roles:{}})})(window,window.jQuery,window.kendo),function(i,t){t.data.binders.boolValue=t.data.Binder.extend({init:function(n,o,e){if("radio"!==n.type)return this.refresh=function(){},undefined;t.data.Binder.fn.init.call(this,n,o,e);var s=this;i(s.element).on("change",function(){s.change()})},refresh:function(){var t=this,n=this.element,o=t.bindings.boolValue.get(),e=i(n).val();e="true"===e?!0:"false"===e?!1:null,n.checked=o===e},change:function(){var t=this,n=t.element,o=i(n).val(),e=null;e="true"===o?!0:"false"===o?!1:null,this.bindings.boolValue.set(e)}})}(window.jQuery,window.kendo),function(i,t,n,o,e){var s=".kiuiNotifier",c=n.prefix,a=t.ui.Widget,f=(t.ui,i.proxy),r="kiui-notification-error",d="kiui-notification-info",l="kiui-notification-success",u="kiui-notifier",h="kiui-position-",p="kiui-notification",v="kiui-notification-icon",k="kiui-notification-close",m="kiui-notification-title",w="kiui-notification-content",g="top",_="bottom",b="right",y="left",C="-",N=g+C+y,x=g+C+b,P=_+C+y,O=_+C+b,T="show",j="hide",H="destroy",I="string",Q="",V="body",q=a.extend({init:function(t,n){var e,c=this;a.fn.init.call(c,t,n),t=c.element,n=c.options,e=/^([^-]+)-(.+)$/.exec(n.position),t.addClass(u).addClass(h+e[1]).addClass(h+e[2]),i(o).on("resize"+s,f(c._setNotificationsPosition,c)),c._notifications=[]},options:{prefix:c,name:"Notifier",position:x},events:[H],_setNotificationsPosition:function(){var t=this,n=t.options.position,e=10,s=i(o).height(),c=0,a=e,f=e;i.each(t._notifications,function(i,t){var o=t.height(),r=t.width();r>c&&(c=r),i>0&&a+o>s-e&&(a=e,f+=c+e,c=0),n==x?t.setPosition({top:a,right:f}):n==N?t.setPosition({top:a,left:f}):n==O?t.setPosition({bottom:a,right:f}):n==P&&t.setPosition({bottom:a,left:f}),a+=o+e})},_notify:function(t,o){var s,c=this;t.append&&i.each(c._notifications,function(i,t){t.element.hasClass(o)&&(s=t)}),s!==e?s.addContent(t.content):(s=new n.Notification(i("<div></div>").appendTo(c.element),t),c._notifications.push(s),s.bind(H,function(){s.element.remove()}),s.bind(j,function(){c._notifications.splice(c._notifications.indexOf(s),1),c._setNotificationsPosition(),s.destroy()})),c._setNotificationsPosition(),s.show(t.autoHide)},_createNotificationOptions:function(i,t){return typeof i===I&&(i={content:i}),t==r?(i.icon===e&&(i.icon='<span class="k-icon k-i-note"></span>'),i.notificationClass=t+" k-error-colored"):t==d?(i.icon===e&&(i.icon='<span class="k-icon k-i-pencil"></span>'),i.notificationClass=t+" k-info-colored"):t==l&&(i.icon===e&&(i.icon='<span class="k-icon k-i-tick"></span>'),i.notificationClass=t+" k-success-colored"),i},error:function(i){var t=this;t._notify(t._createNotificationOptions(i,r),r)},info:function(i){var t=this;t._notify(t._createNotificationOptions(i,d),d)},success:function(i){var t=this;t._notify(t._createNotificationOptions(i,l),l)},destroy:function(){var t=this;t.element,i(o).off(s),i.each(t._notifications,function(i,t){t.destroy()}),t._notifications=[],t.trigger(H),a.fn.destroy.call(t)}}),B=a.extend({init:function(i,t){var n=this;a.fn.init.call(n,i,t),i=n.element,t=n.options,i.addClass(p+" k-block").addClass(t.notificationClass).append(t.template).css("width",t.width).on("click"+s,"."+k,f(n.hide,n)),n._visible=!1,n.setIcon(t.icon),n.setTitle(t.title),n.addContent(t.content)},options:{prefix:c,name:"Notification",template:'<div class="'+v+'"></div>'+'<div class="'+k+'">'+'<span class="k-icon k-i-close">'+"</div>"+'<div class="'+m+'"></div>'+'<div class="'+w+'"></div>',notificationClass:"k-error-colored",icon:"",title:"",content:"",autoHide:!1,width:250,append:!1},events:[T,j,H],show:function(i){var t=this;t._visible||(t._visible=!0,t.element.fadeIn({queue:!1,complete:function(){t.trigger(T)}})),i&&setTimeout(f(t.hide,t),i)},hide:function(){var i=this;i._visible&&(i._visible=!1,i.element.fadeOut({queue:!1,complete:function(){i.trigger(j)}}))},setIcon:function(i){var t=this,n=t.element.find("."+v);n.html(i),i===Q?n.hide():n.show()},setTitle:function(i){var t=this,n=t.element.find("."+m);n.html(i),i===Q?n.hide():n.show()},addContent:function(i){var t=this;t.element.find("."+w).append(i)},setPosition:function(i){var t=this;t.element.css(i)},height:function(){var i=this;return i.element.outerHeight()},width:function(){var i=this;return i.element.outerWidth()},destroy:function(){var i=this,t=i.element;t.off(s),i.trigger(H),a.fn.destroy.call(i)}}),W={};n.notifier=function(t){var o,s,c;return t=t||{},c=!t.position||t.position!==x&&t.position!==N&&t.position!==O&&t.position!==P,c&&(t.position=x),o=W[t.position],o||(s=i("<div></div>").appendTo(V),o=W[t.position]=new n.Notifier(s,t),o.bind(H,function(){W[t.position]=e,o.element.remove()})),o},n.plugin(B),n.plugin(q)}(window.jQuery,window.kendo,window.kiui,window);